<!--
Guidance for AI coding assistants working on this repository.
Keep this file concise and actionable. Reference files mentioned below
when making suggestions or edits.
-->

# Copilot / AI Assist Instructions

Summary
- This is a Vite + React + TypeScript app scaffolded with `shadcn-ui` primitives and Tailwind.
- Key integrations: Supabase (client in `src/integrations_supabase/client.ts`) and React Query (`@tanstack/react-query`).

Quick commands
- Install dependencies: `npm i`
- Dev server: `npm run dev` (Vite, port 8080 configured in `vite.config.ts`)
- Build: `npm run build`
- Preview built app: `npm run preview`
- Lint: `npm run lint`

Project layout & architecture (big picture)
- Entry: `src/main.tsx` -> `src/App.tsx` (React Router routes declared in `App.tsx`).
- Pages live in `src/pages/*` (e.g. `Index`, `Universities`, `Programs`).
- UI primitives/components are under `src/components/ui/*` (Radix + shadcn patterns).
- Domain components (cards, buttons, small features) are in `src/components/` (e.g. `UniversityCard.tsx`, `FiliereCard.tsx`).
- State & data: client-side data fetching uses `@tanstack/react-query` (QueryClient in `App.tsx`).

Conventions & patterns (project-specific)
- Path alias: use `@/...` to import from `src` (configured in `vite.config.ts`).
- UI primitives: follow patterns in `src/components/ui/*` (export small, focused components that wrap Radix primitives).
  - Examples: `button.tsx`, `input.tsx`, `tooltip.tsx` provide canonical prop shapes and className merging.
- Routing: add new `Route` entries in `src/App.tsx` and place components in `src/pages/`. Keep custom routes above the `*` catch-all.
- Generated files: `src/integrations_supabase/client.ts` contains a header: "This file is automatically generated. Do not edit it directly." Avoid editing autogenerated integration stubs—update generator or env instead.

Integrations & env
- Supabase client: import from `@/integrations/supabase/client`. Uses env vars `VITE_SUPABASE_URL` and `VITE_SUPABASE_PUBLISHABLE_KEY` (see `src/integrations_supabase/client.ts`).
- Auth/session behavior: Supabase client is configured to persist session to `localStorage` and auto-refresh tokens.
- Tagging: `lovable-tagger` is used as a Vite dev plugin (see `vite.config.ts`). Do not remove unless you understand the tagging workflow.

Editing guidance for AI assistants (do this, not that)
- Use `@/` imports (e.g. `import X from "@/components/X"`). Searching codebase for absolute paths helps find examples.
- Keep UI primitives small and re-usable; mirror the style and prop patterns in `src/components/ui/*`.
- When adding data fetching, use `react-query` hooks (create a custom hook under `src/hooks/` when logic is reused).
- Do not change autogenerated integration files; instead, change the generator or environment variables.
- When modifying routes, confirm changes in `src/App.tsx` and ensure the new page component is exported from `src/pages/`.

Examples (common edits)
- Add a new page:
  - Create `src/pages/MyPage.tsx` exporting default React component.
  - Add `<Route path="/my" element={<MyPage/>} />` in `src/App.tsx` above the `*` route.
- Add a new UI primitive:
  - Copy existing pattern from `src/components/ui/button.tsx`.
  - Export from the same file and use `class-variance-authority` pattern if consistent with other primitives.
- Use Supabase:
  - `import { supabase } from "@/integrations/supabase/client";`
  - Use `react-query` to wrap Supabase calls inside query/mutation hooks.

What to avoid
- Do not introduce global CSS files—project uses Tailwind via `index.css` and `App.css`.
- Avoid changing Vite alias or plugin setup without confirming dev + preview commands still work.

Where to look for more context
- `README.md` at project root (basic setup steps).
- `vite.config.ts` for aliases and dev server settings.
- `package.json` for available scripts.
- `src/components/ui/*` for style and API conventions.
- `src/integrations_supabase/*` for Supabase schema/types and client usage.

If unsure
- Leave TODO comments in code with `// TODO (AI): <question>` and open a PR explaining the uncertainty.
- Ask the repo maintainer which generated files are safe to modify.

End.
